#include <stdio.h>
#include <string.h>

int zapiszDane( const char * _nazwaPliku, const char * _tekst )
{
    // Otwórz plik do zapisu w trybie tekstowym:
    FILE * plik = fopen( _nazwaPliku, "w" );
    if( !plik )
         return 0;
   
    size_t zapisanychElementow = fwrite( _tekst, sizeof( char ), strlen( _tekst ), plik );
    size_t zapisanychElementow2 = fwrite( _tekst, sizeof( char ), strlen( _tekst ), plik );
    printf( "Dlugosc tekstu = %ld\n", strlen( _tekst ) );
    printf( "Zapisanych elementow = %ld\n", zapisanychElementow );
    fclose( plik );
    return 1;
}

int odczytajDane( const char * _nazwaPliku )
{
    // Otwórz plik do odczytu w trybie binarnym:
    FILE * plik = fopen( _nazwaPliku, "rb" );
    if( !plik )
         return 0;
   
    const int ROZMIAR_BUFORA = 1024;
    char bufor[ ROZMIAR_BUFORA ];
    size_t odczytanychElementow = fread( bufor, sizeof( char ), ROZMIAR_BUFORA, plik );
    printf( "Odczytanych elementow = %ld\n", odczytanychElementow );
    fclose( plik );
    return 1;
}

int main()
{
    const char * tekst = "Dokumentacja serwisucpp0x.pl";
    const char * nazwaPliku = "plik_testowy.txt";
    if( !zapiszDane( nazwaPliku, tekst ) )
         printf( "Nie udalo sie zapisac danych.\n" );
   
    if( !odczytajDane( nazwaPliku ) )
         printf( "Nie udalo sie odczytac danych.\n" );
   
    return 0;
}